<!DOCTYPE html>
<html style="overflow:hidden;height:100%">
  <head>
    <meta charset="utf-8">
    <title>Bldrs running inside an iframe</title>
    <script type="text/javascript" src="https://unpkg.com/matrix-widget-api@1.1.1/dist/api.js"></script>

    <!-- initializes & wires up all messages -->
    <script type="text/javascript" src="bldrs-inside-iframe.js"></script>
  </head>

  <!--
    This page contains a) a Bldrs instance running in an iframe and b) preset controls to emit messages and receive messages to/from Bldrs.
    This serves as a basic foundation for the black-box integration tests located at /cypress/e2e/integration/
  -->
  <body style="overflow:hidden;height:100%">

    <!-- Flag is set once Matrix Widget API is ready -->
    <input id="cbxIsReady" type="checkbox"></input>
    <label for="cbxIsReady">Is Ready</label>
    <br/>

    <!-- Contains the last message received from the iframe through Matrix Widget API -->
    <input id="txtLastMsg" type="text"></input>
    <label for="txtLastMsg">Last Message Received</label>
    <br/>

    <!-- Sends a message to the iframe through Matrix Widget API -->
    <input id="txtSendMessageType" type="text" placeholder="message type"></input>
    <input id="txtSendMessagePayload" type="text" placeholder="message payload"></input>
    <input id="btnSendMessage" type="button" value="Send"></input>

    <!-- Contains Bldrs in an iframe, the URL is set later -->
    <iframe 
      id="bldrs-widget-iframe" 
      title="bldrs" 
      style="overflow:hidden;height:90%;width:90%" 
      width="90%" 
      height="90%">
    </iframe>

  </body>
</html>